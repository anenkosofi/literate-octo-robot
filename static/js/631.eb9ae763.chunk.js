"use strict";(self.webpackChunkliterate_octo_robot=self.webpackChunkliterate_octo_robot||[]).push([[631],{3604:function(e,t,n){n.d(t,{r:function(){return c}});var r,i=n(2791),l=["title","titleId"];function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){var n=e.title,o=e.titleId,c=s(e,l);return i.createElement("svg",a({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,r||(r=i.createElement("path",{d:"M1.55957 5.85003L4.61957 8.91003L12.4396 1.09003",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var c=i.forwardRef(o);n.p},6631:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r,i,l=n(2791),a=n(8596),s=n(848),o=n(1134),c=n(1413),u=n(184),d=function(e){var t=e.register;return(0,u.jsxs)("div",{className:"info",children:[(0,u.jsx)("h2",{className:"form__title",children:"Additional informations"}),(0,u.jsx)("p",{className:"form__description",children:"Need something else? We will make it for you!"}),(0,u.jsxs)("div",{className:"billing__field info__field",children:[(0,u.jsx)("textarea",(0,c.Z)({id:"notes",placeholder:"Need a specific delivery day? Sending a gitf? Let\u2019s say ...",className:"billing__input info__input"},t("notes"))),(0,u.jsx)("p",{className:"billing__label info__label",children:"Order notes"})]})]})},m=n(9439),f=n(242),h=n(4054),p=n(4942),g=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function j(e,t){var n=e.title,a=e.titleId,s=_(e,g);return l.createElement("svg",b({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},s),n?l.createElement("title",{id:a},n):null,r||(r=l.createElement("path",{d:"M9.18031 9.17998L2.82031 2.81998",strokeLinecap:"round",strokeLinejoin:"bevel"})),i||(i=l.createElement("path",{d:"M9.18031 2.81998L2.82031 9.17998",strokeLinecap:"round",strokeLinejoin:"bevel"})))}var x,v,y=l.forwardRef(j),N=(n.p,["title","titleId"]);function w(){return w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w.apply(this,arguments)}function E(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){var n=e.title,r=e.titleId,i=E(e,N);return l.createElement("svg",w({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,x||(x=l.createElement("path",{d:"M11.1865 5.80004L8.44651 3.06004C8.3216 2.93588 8.15263 2.86618 7.97651 2.86618C7.80039 2.86618 7.63142 2.93588 7.50651 3.06004L4.83984 5.72671",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"bevel"})),v||(v=l.createElement("path",{d:"M4.8125 10.2L7.5525 12.94C7.67741 13.0642 7.84638 13.1339 8.0225 13.1339C8.19862 13.1339 8.36759 13.0642 8.4925 12.94L11.1592 10.2734",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"bevel"})))}var O=l.forwardRef(k),C=(n.p,n(7910)),L=n(800),S=function(e){var t,n=e.name,r=e.label,i=e.placeholder,a=e.errors,s=e.options,c=e.onSetCountry,d=e.watch,f=e.control,h=(0,C.TL)(),g=(0,o.bc)({name:n,control:f}).field,b=g.value,_=g.onChange,j=(0,o.bc)({name:"cityName",control:f}).field.onChange,x=d(n);(0,l.useEffect)((function(){h((0,L.a_)((0,p.Z)({},n,x)))}),[b,h]);var v=(0,l.useRef)(null),N=(0,l.useRef)(null),w=(0,l.useState)(s),E=(0,m.Z)(w,2),k=E[0],S=E[1],T=(0,l.useState)(""),Z=(0,m.Z)(T,2),P=Z[0],I=Z[1],z=(0,l.useState)(!1),F=(0,m.Z)(z,2),M=F[0],R=F[1];(0,l.useEffect)((function(){var e=s.filter((function(e){return e.value.trim().toLowerCase().includes(P.trim().toLowerCase())}));S(e)}),[P,s]),(0,l.useEffect)((function(){b||j("")}),[b]);var A=function(e){v.current&&!v.current.contains(e.target)&&e.target!==N.current&&(R(!1),_(""),I(""))};return(0,l.useEffect)((function(){return document.addEventListener("click",A),function(){document.removeEventListener("click",A)}}),[]),(0,u.jsxs)("div",{className:"billing__field",children:[(0,u.jsx)("input",{id:n,disabled:"cityName"===n&&d&&!d("countryName"),type:"text",autoComplete:"do-not-autofill",value:String(b),placeholder:i,className:"billing__input",ref:N,onChange:function(e){var t=e.currentTarget.value;I(t),_(t)},onFocus:function(){R(!0)}}),(0,u.jsxs)("div",{className:"billing__control",children:[(0,u.jsx)("button",{type:"button",onClick:function(){_(""),I("")},className:"billing__select-button billing__select-button_close",children:(0,u.jsx)(y,{className:"billing__select-icon"})}),(0,u.jsx)("div",{className:"billing__divider"}),(0,u.jsx)("button",{type:"button",disabled:"cityName"===n&&d&&!d("countryName"),onClick:function(e){e.stopPropagation(),R(!0)},className:"billing__select-button",children:(0,u.jsx)(O,{className:"billing__select-icon"})})]}),M&&(0,u.jsx)("ul",{className:"billing__list",ref:v,children:k.length?k.map((function(e,t){return(0,u.jsx)("li",{className:"billing__item",onClick:function(){e.code&&c&&c(e.code),function(e){_(e),R(!1)}(e.value)},children:e.value},"".concat(e.latitude,"-").concat(e.value,"-").concat(t))})):(0,u.jsx)("li",{className:"billing__input",children:"No options..."})}),(0,u.jsx)("label",{htmlFor:n,className:"billing__label",children:r}),a[n]&&(0,u.jsx)("p",{role:"alert",className:"form__error",children:null===(t=a[n])||void 0===t?void 0:t.message})]})},T=function(e){var t,n=e.name,r=e.label,i=e.type,a=e.placeholder,s=e.register,o=e.errors,d=e.watch,m=(0,C.TL)(),f=d(n);return(0,l.useEffect)((function(){m((0,L.a_)((0,p.Z)({},n,f)))}),[f,m]),(0,u.jsxs)("div",{className:"billing__field",children:[(0,u.jsx)("input",(0,c.Z)({id:n,type:i,autoComplete:"do-not-autofill",placeholder:a,className:"billing__input"},s(n))),(0,u.jsx)("label",{htmlFor:n,className:"billing__label",children:r}),o[n]&&(0,u.jsx)("p",{role:"alert",className:"form__error",children:null===(t=o[n])||void 0===t?void 0:t.message})]})},Z=function(e){return e.cart.data},P=function(e){return e.cart.country},I=function(e){var t=e.register,n=e.watch,r=e.errors,i=e.control,a=(0,C.TL)(),s=(0,C.CG)(P),o=(0,l.useState)(s),c=(0,m.Z)(o,2),d=c[0],p=c[1],g=(0,l.useState)([]),b=(0,m.Z)(g,2),_=b[0],j=b[1],x=f.Z.getAllCountries(),v=h.Z.getAllCities(),y=x.map((function(e){return{label:e.name,value:e.name,code:e.isoCode,latitude:e.latitude}}));(0,l.useEffect)((function(){if(d){j([]);var e=v.filter((function(e){return e.countryCode===d})),t=e.map((function(e){return{label:e.name,value:e.name,latitude:e.latitude}}));j(t)}}),[d]);return(0,l.useEffect)((function(){a((0,L.RZ)(d))}),[d]),(0,u.jsxs)("div",{className:"billing",children:[(0,u.jsx)("h2",{className:"form__title",children:"Billing info"}),(0,u.jsx)("p",{className:"form__description",children:"Please enter your billing info"}),(0,u.jsxs)("div",{className:"billing__info",children:[(0,u.jsx)(T,{name:"firstName",label:"First name*",type:"text",placeholder:"First name",register:t,errors:r,watch:n}),(0,u.jsx)(T,{name:"lastName",label:"Last name",type:"text",placeholder:"Last name",register:t,errors:r,watch:n}),(0,u.jsx)(T,{name:"emailName",label:"Email addess*",type:"email",placeholder:"Email addess",register:t,errors:r,watch:n}),(0,u.jsx)(T,{name:"phoneName",label:"Phone number*",type:"phone",placeholder:"Phone number",register:t,errors:r,watch:n}),(0,u.jsx)(S,{name:"countryName",label:"State / Country*",placeholder:"Choose a state or Country",options:y,register:t,errors:r,onSetCountry:function(e){p(e)},control:i,watch:n}),(0,u.jsx)(S,{name:"cityName",label:"Town / City",placeholder:"Town or city",options:_,register:t,errors:r,watch:n,control:i}),(0,u.jsx)(T,{name:"apartmentName",label:"Address*",type:"text",placeholder:"Address",register:t,errors:r,watch:n}),(0,u.jsx)(T,{name:"zipName",label:"ZIP/Postal code*",type:"text",placeholder:"Postal code or ZIP",register:t,errors:r,watch:n})]})]})},z=n(1087),F=n(3604),M=function(e){return e.SENDING="sending",e.AGREEMENT="agreement",e}(M||{}),R=function(e){var t=e.register,n=e.errors,r=e.watch,i=e.isValid,a=(0,C.TL)(),s=r(M.AGREEMENT),o=r(M.SENDING);return(0,l.useEffect)((function(){a((0,L.a_)({agreement:s}))}),[s,a]),(0,l.useEffect)((function(){a((0,L.a_)({sending:o}))}),[o,a]),(0,u.jsxs)("div",{className:"confirm",children:[(0,u.jsx)("h2",{className:"form__title",children:"Confirmation"}),(0,u.jsx)("p",{className:"form__description",children:"We are getting to the end. Just few clicks and your order si ready!"}),(0,u.jsxs)("div",{className:"confirm__info",children:[(0,u.jsxs)("div",{className:"confirm__field",children:[(0,u.jsxs)("label",{htmlFor:"sending",className:"confirm__label",children:[(0,u.jsx)("input",(0,c.Z)((0,c.Z)({id:"sending",type:"checkbox",autoComplete:"do-not-autofill",className:"confirm__input"},t("sending")),{},{defaultChecked:r(M.SENDING)})),(0,u.jsx)("span",{className:"confirm__checkbox",children:(0,u.jsx)(F.r,{className:"confirm__icon"})}),(0,u.jsx)("span",{children:"I agree with sending an Marketing and newsletter emails. No spam, promissed!"})]}),n.sending&&(0,u.jsx)("p",{role:"alert",className:"form__error",children:n.sending.message})]}),(0,u.jsxs)("div",{className:"confirm__field",children:[(0,u.jsxs)("label",{htmlFor:"agreement",className:"confirm__label",children:[(0,u.jsx)("input",(0,c.Z)((0,c.Z)({id:"agreement",type:"checkbox",autoComplete:"do-not-autofill",className:"confirm__input"},t("agreement")),{},{defaultChecked:r(M.AGREEMENT)})),(0,u.jsx)("span",{className:"confirm__checkbox",children:(0,u.jsx)(F.r,{className:"confirm__icon"})}),(0,u.jsxs)("span",{children:["I agree with our\xa0",(0,u.jsx)(z.rU,{to:"/terms",className:"confirm__label_underlined",children:"terms and conditions"}),"\xa0and\xa0",(0,u.jsx)(z.rU,{to:"/terms",className:"confirm__label_underlined",children:"privacy policy"}),"."]})]}),n.agreement&&(0,u.jsx)("p",{role:"alert",className:"form__error",children:n.agreement.message})]})]}),(0,u.jsx)("button",{type:"submit",className:"form__button",disabled:!i,children:"Complete order"})]})},A=n(874),G=A.z.object({firstName:A.z.string().nonempty("This field is required."),lastName:A.z.string().optional(),email:A.z.string().nonempty("This field is required").email("Invalid email format."),phone:A.z.string().nonempty("This field is required.").min(5,"Phone number must contain at least 5 numbers.").max(12,"Phone number must contain at most 12 numbers."),country:A.z.string().nonempty("This field is required."),city:A.z.string().optional(),apartment:A.z.string().nonempty("This field is required."),zip:A.z.string().nonempty("This field is required.").min(5,"Zip code must contain at least 5 characters.").max(10,"Zip code must contain at most 12 characters."),notes:A.z.string().optional(),sending:A.z.boolean().refine((function(e){return e}),{message:"This field must be checked."}),agreement:A.z.boolean().refine((function(e){return e}),{message:"This field must be checked."})}),q={firstName:"",lastName:"",email:"",phone:"",apartment:"",city:"",country:"",zip:"",notes:"",sending:!1,agreement:!1},W=function(){var e=(0,C.CG)(Z),t=(0,o.cI)({defaultValues:e,resolver:(0,s.F)(G),mode:"onTouched"}),n=t.register,r=t.control,i=t.handleSubmit,c=t.formState,m=c.errors,f=c.isValid,h=c.isSubmitSuccessful,p=t.watch,g=t.reset;(0,l.useEffect)((function(){h&&g(q)}),[h,g]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("h1",{className:"form__heading",children:"Form"}),(0,u.jsxs)("form",{className:"form",autoComplete:"do-not-autofill",noValidate:!0,onSubmit:i((function(e){console.log("form submitted",e)})),children:[(0,u.jsx)(I,{register:n,watch:p,errors:m,control:r}),(0,u.jsx)(d,{register:n}),(0,u.jsx)(R,{register:n,watch:p,errors:m,isValid:f})]}),(0,u.jsx)(a.DevTool,{control:r})]})},V=n(7457),B=function(){return(0,u.jsx)("section",{className:"checkout",children:(0,u.jsx)(V.W,{children:(0,u.jsx)("div",{className:"checkout__layout",children:(0,u.jsx)(W,{})})})})}}}]);
//# sourceMappingURL=631.eb9ae763.chunk.js.map