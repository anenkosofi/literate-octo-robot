{"version":3,"file":"static/js/322.f69c784d.chunk.js","mappings":"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","sources":["components/SimilarItem/index.tsx","components/DefaultWish/index.tsx","pages/WishlistPage/index.tsx"],"sourcesContent":["import React, { FC } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { ReactComponent as Heart } from '@assets/heart.svg';\r\nimport { useAppDispatch, useAppSelector, useAuth } from '@hooks';\r\nimport { selectWishlistIds } from '@store/wishlist/selectors';\r\nimport { setWishlist } from '@store/wishlist/slice';\r\nimport { Product } from '@types';\r\nimport { getNewPrice } from '@utils';\r\n\r\nimport './SimilarItem.scss';\r\n\r\ntype SimilarItemProps = {\r\n  item: Product;\r\n  page?: string;\r\n};\r\n\r\nexport const SimilarItem: FC<SimilarItemProps> = ({\r\n  item: { id, previewImage, discount, title, overview, price },\r\n  page,\r\n}) => {\r\n  const dispatch = useAppDispatch();\r\n  const items = useAppSelector(selectWishlistIds);\r\n  const { user } = useAuth();\r\n\r\n  const isProductInWishlist = items.find(\r\n    ({ id: userId, products }) => userId === user?.id && products.includes(id)\r\n  );\r\n\r\n  const updateWishlistHandler = () => {\r\n    if (user && user.id) {\r\n      dispatch(setWishlist({ userId: user?.id, productId: id }));\r\n    }\r\n  };\r\n\r\n  const getPrice = () => {\r\n    return getNewPrice(price.pcs, discount);\r\n  };\r\n  return (\r\n    <li className=\"similar__item\">\r\n      <NavLink to={`/products/${id}`} className=\"similar__thumb\">\r\n        <img src={previewImage} alt={title} className=\"similar__image\" />\r\n        <div className=\"similar__discount\">- {discount}%</div>\r\n      </NavLink>\r\n      <div className=\"similar__info\">\r\n        <h3 className=\"similar__name\">\r\n          <NavLink to={`/products/${id}`} className=\"similar__name-link\">\r\n            {title.length > 28 ? `${title.substring(0, 28)}...` : title}\r\n          </NavLink>\r\n        </h3>\r\n        <p className=\"similar__description\">{overview.substring(0, 50)}...</p>\r\n        <div className=\"similar__control\">\r\n          <div className=\"similar__price\">\r\n            <span>{getPrice()} USD</span>\r\n            <span className=\"similar__price_old\">{price.pcs} USD</span>\r\n          </div>\r\n          <div className=\"similar__button-wrapper\">\r\n            <NavLink to={`/products/${id}`} className=\"similar__button\">\r\n              Buy now\r\n            </NavLink>\r\n            {page && page === 'wish' && (\r\n              <button\r\n                type=\"button\"\r\n                className=\"wish__button\"\r\n                onClick={updateWishlistHandler}\r\n              >\r\n                <Heart\r\n                  className={\r\n                    isProductInWishlist\r\n                      ? 'wish__icon wish__icon_active'\r\n                      : 'wish__icon'\r\n                  }\r\n                />\r\n                <span>Remove</span>\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n","import React, { FC } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport space from '@assets/space.png';\r\n\r\nimport './DefaultWish.scss';\r\n\r\nexport const DefaultWish: FC = () => {\r\n  return (\r\n    <div className=\"default-wish\">\r\n      <img src={space} alt=\"Space\" width=\"320\" />\r\n      <h1 className=\"default-wish__title\">\r\n        There&apos;s so much space in here!\r\n      </h1>\r\n      <p className=\"default-wish__description\">\r\n        Unleash your curiosity and embark on a delightful journey of product\r\n        exploration. Discover captivating categories and brands that will\r\n        enchant your senses and bring joy to your life. Start exploring and find\r\n        your perfect match among a treasure trove of delightful products.\r\n      </p>\r\n      <NavLink to=\"/products\" className=\"default-wish__link\">\r\n        Explore products\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n","import React, { FC, useEffect } from 'react';\r\n\r\nimport { Container } from '@components/Container';\r\nimport { DefaultWish } from '@components/DefaultWish';\r\nimport { Loader } from '@components/Loader';\r\nimport { SimilarItem } from '@components/SimilarItem';\r\nimport { useAppSelector, useAppDispatch, useAuth } from '@hooks';\r\nimport { getProductsByIds } from '@store/wishlist/operations';\r\nimport {\r\n  selectWishlistIds,\r\n  selectWishlist,\r\n  selectIsLoading,\r\n} from '@store/wishlist/selectors';\r\n\r\nimport './WishlistPage.scss';\r\n\r\nconst WishlistPage: FC = () => {\r\n  const dispatch = useAppDispatch();\r\n  const wishlist = useAppSelector(selectWishlistIds);\r\n  const items = useAppSelector(selectWishlist);\r\n  const isLoading = useAppSelector(selectIsLoading);\r\n  const { isAuthorized, user } = useAuth();\r\n\r\n  useEffect(() => {\r\n    if (isAuthorized && user && wishlist) {\r\n      const ids = wishlist.find(({ id }) => id === user.id);\r\n      if (ids) {\r\n        dispatch(getProductsByIds(ids.products));\r\n      }\r\n    }\r\n  }, [isAuthorized, user, wishlist]);\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (!items.length) {\r\n    return <DefaultWish />;\r\n  }\r\n\r\n  return (\r\n    <section className=\"wish\">\r\n      <Container>\r\n        <ul className=\"wish__list\">\r\n          {items.map(item => (\r\n            <SimilarItem key={item.id} item={item} page=\"wish\" />\r\n          ))}\r\n        </ul>\r\n      </Container>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default WishlistPage;\r\n"],"names":["SimilarItem","_ref","_ref$item","item","id","previewImage","discount","title","overview","price","page","dispatch","useAppDispatch","items","useAppSelector","selectWishlistIds","user","useAuth","isProductInWishlist","find","_ref2","userId","products","includes","_jsxs","className","children","NavLink","to","concat","_jsx","src","alt","length","substring","getNewPrice","pcs","type","onClick","setWishlist","productId","Heart","DefaultWish","space","width","wishlist","selectWishlist","isLoading","selectIsLoading","_useAuth","isAuthorized","useEffect","ids","getProductsByIds","Loader","Container","map"],"sourceRoot":""}