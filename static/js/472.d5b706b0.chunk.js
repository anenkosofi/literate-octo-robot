"use strict";(self.webpackChunkliterate_octo_robot=self.webpackChunkliterate_octo_robot||[]).push([[472],{3604:function(e,t,n){n.d(t,{r:function(){return c}});var r,i=n(2791),l=["title","titleId"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){var n=e.title,o=e.titleId,c=a(e,l);return i.createElement("svg",s({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},c),n?i.createElement("title",{id:o},n):null,r||(r=i.createElement("path",{d:"M1.55957 5.85003L4.61957 8.91003L12.4396 1.09003",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})))}var c=i.forwardRef(o);n.p},4472:function(e,t,n){n.r(t),n.d(t,{default:function(){return B}});var r,i,l=n(2791),s=n(8596),a=n(848),o=n(1134),c=n(874),u=n(1413),d=n(184),m=function(e){var t=e.register;return(0,d.jsxs)("div",{className:"info",children:[(0,d.jsx)("h2",{className:"form__title",children:"Additional informations"}),(0,d.jsx)("p",{className:"form__description",children:"Need something else? We will make it for you!"}),(0,d.jsxs)("div",{className:"billing__field info__field",children:[(0,d.jsx)("textarea",(0,u.Z)({id:"notes",placeholder:"Need a specific delivery day? Sending a gitf? Let\u2019s say ...",className:"billing__input info__input"},t("notes"))),(0,d.jsx)("p",{className:"billing__label info__label",children:"Order notes"})]})]})},f=n(9439),h=n(242),p=n(4054),g=n(4942),b=["title","titleId"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}function j(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function x(e,t){var n=e.title,s=e.titleId,a=j(e,b);return l.createElement("svg",_({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},a),n?l.createElement("title",{id:s},n):null,r||(r=l.createElement("path",{d:"M9.18031 9.17998L2.82031 2.81998",strokeLinecap:"round",strokeLinejoin:"bevel"})),i||(i=l.createElement("path",{d:"M9.18031 2.81998L2.82031 9.17998",strokeLinecap:"round",strokeLinejoin:"bevel"})))}var v,y,N=l.forwardRef(x),w=(n.p,["title","titleId"]);function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function E(e,t){var n=e.title,r=e.titleId,i=O(e,w);return l.createElement("svg",k({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},i),n?l.createElement("title",{id:r},n):null,v||(v=l.createElement("path",{d:"M11.1865 5.80004L8.44651 3.06004C8.3216 2.93588 8.15263 2.86618 7.97651 2.86618C7.80039 2.86618 7.63142 2.93588 7.50651 3.06004L4.83984 5.72671",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"bevel"})),y||(y=l.createElement("path",{d:"M4.8125 10.2L7.5525 12.94C7.67741 13.0642 7.84638 13.1339 8.0225 13.1339C8.19862 13.1339 8.36759 13.0642 8.4925 12.94L11.1592 10.2734",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"bevel"})))}var C=l.forwardRef(E),L=(n.p,n(7910)),S=n(800),Z=function(e){var t,n=e.name,r=e.label,i=e.placeholder,s=e.errors,a=e.options,c=e.onSetCountry,u=e.watch,m=e.control,h=(0,L.TL)(),p=(0,o.bc)({name:n,control:m}).field,b=p.value,_=p.onChange,j=(0,o.bc)({name:"city",control:m}).field.onChange,x=u(n);(0,l.useEffect)((function(){h((0,S.a_)((0,g.Z)({},n,x)))}),[b,h]);var v=(0,l.useRef)(null),y=(0,l.useRef)(null),w=(0,l.useState)(a),k=(0,f.Z)(w,2),O=k[0],E=k[1],Z=(0,l.useState)(""),P=(0,f.Z)(Z,2),T=P[0],I=P[1],z=(0,l.useState)(!1),F=(0,f.Z)(z,2),M=F[0],R=F[1];(0,l.useEffect)((function(){var e=a.filter((function(e){return e.value.trim().toLowerCase().includes(T.trim().toLowerCase())}));E(e)}),[T,a]),(0,l.useEffect)((function(){b||j("")}),[b]);var A=function(e){v.current&&!v.current.contains(e.target)&&e.target!==y.current&&(R(!1),_(""),I(""))};return(0,l.useEffect)((function(){return document.addEventListener("click",A),function(){document.removeEventListener("click",A)}}),[]),(0,d.jsxs)("div",{className:"billing__field",children:[(0,d.jsx)("input",{id:n,disabled:"city"===n&&u&&!u("country"),type:"text",autoComplete:"new-password",value:String(b),placeholder:i,className:"billing__input",ref:y,onChange:function(e){var t=e.currentTarget.value;I(t),_(t)},onFocus:function(){return R(!0)}}),(0,d.jsxs)("div",{className:"billing__control",children:[(0,d.jsx)("button",{type:"button",onClick:function(){return _("")},className:"billing__select-button billing__select-button_close",children:(0,d.jsx)(N,{className:"billing__select-icon"})}),(0,d.jsx)("div",{className:"billing__divider"}),(0,d.jsx)("button",{type:"button",disabled:"city"===n&&u&&!u("country"),onClick:function(e){e.stopPropagation(),R(!0)},className:"billing__select-button",children:(0,d.jsx)(C,{className:"billing__select-icon"})})]}),M&&(0,d.jsx)("ul",{className:"billing__list",ref:v,children:O.length?O.map((function(e){return(0,d.jsx)("li",{className:"billing__item",onClick:function(){e.code&&c&&c(e.code),function(e){_(e),R(!1)}(e.value)},children:e.value},"".concat(e.latitude,"-").concat(e.value))})):(0,d.jsx)("li",{className:"billing__input",children:"No options..."})}),(0,d.jsx)("label",{htmlFor:n,className:"billing__label",children:r}),s[n]&&(0,d.jsx)("p",{role:"alert",className:"form__error",children:null===(t=s[n])||void 0===t?void 0:t.message})]})},P=function(e){var t,n=e.name,r=e.label,i=e.type,s=e.placeholder,a=e.register,o=e.errors,c=e.watch,m=(0,L.TL)(),f=c(n);return(0,l.useEffect)((function(){m((0,S.a_)((0,g.Z)({},n,f)))}),[f,m]),(0,d.jsxs)("div",{className:"billing__field",children:[(0,d.jsx)("input",(0,u.Z)({id:n,type:i,autoComplete:"new-password",placeholder:s,className:"billing__input"},a(n))),(0,d.jsx)("label",{htmlFor:n,className:"billing__label",children:r}),o[n]&&(0,d.jsx)("p",{role:"alert",className:"form__error",children:null===(t=o[n])||void 0===t?void 0:t.message})]})},T=function(e){return e.cart.data},I=function(e){return e.cart.country},z=function(e){var t=e.register,n=e.watch,r=e.errors,i=e.control,s=(0,L.TL)(),a=(0,L.CG)(I),o=(0,l.useState)(a),c=(0,f.Z)(o,2),u=c[0],m=c[1],g=(0,l.useState)([]),b=(0,f.Z)(g,2),_=b[0],j=b[1],x=h.Z.getAllCountries(),v=p.Z.getAllCities(),y=x.map((function(e){return{label:e.name,value:e.name,code:e.isoCode,latitude:e.latitude}}));(0,l.useEffect)((function(){if(u){j([]);var e=v.filter((function(e){return e.countryCode===u})),t=e.map((function(e){return{label:e.name,value:e.name,latitude:e.latitude}}));j(t)}}),[u]);return(0,l.useEffect)((function(){s((0,S.RZ)(u))}),[u]),(0,d.jsxs)("div",{className:"billing",children:[(0,d.jsx)("h2",{className:"form__title",children:"Billing info"}),(0,d.jsx)("p",{className:"form__description",children:"Please enter your billing info"}),(0,d.jsxs)("div",{className:"billing__info",children:[(0,d.jsx)(P,{name:"firstName",label:"First name*",type:"text",placeholder:"First name",register:t,errors:r,watch:n}),(0,d.jsx)(P,{name:"lastName",label:"Last name",type:"text",placeholder:"Last name",register:t,errors:r,watch:n}),(0,d.jsx)(P,{name:"email",label:"Email addess*",type:"email",placeholder:"Email addess",register:t,errors:r,watch:n}),(0,d.jsx)(P,{name:"phone",label:"Phone number*",type:"phone",placeholder:"Phone number",register:t,errors:r,watch:n}),(0,d.jsx)(Z,{name:"country",label:"State / Country*",placeholder:"Choose a state or Country",options:y,register:t,errors:r,onSetCountry:function(e){m(e)},control:i,watch:n}),(0,d.jsx)(Z,{name:"city",label:"Town / City",placeholder:"Town or city",options:_,register:t,errors:r,watch:n,control:i}),(0,d.jsx)(P,{name:"apartment",label:"Address*",type:"text",placeholder:"Address",register:t,errors:r,watch:n}),(0,d.jsx)(P,{name:"zip",label:"ZIP/Postal code*",type:"text",placeholder:"Postal code or ZIP",register:t,errors:r,watch:n})]})]})},F=n(1087),M=n(3604),R=function(e){return e.SENDING="sending",e.AGREEMENT="agreement",e}(R||{}),A=function(e){var t=e.register,n=e.errors,r=e.watch,i=e.isValid,s=(0,L.TL)(),a=r(R.AGREEMENT),o=r(R.SENDING);return(0,l.useEffect)((function(){s((0,S.a_)({agreement:a}))}),[a,s]),(0,l.useEffect)((function(){s((0,S.a_)({sending:o}))}),[o,s]),(0,d.jsxs)("div",{className:"confirm",children:[(0,d.jsx)("h2",{className:"form__title",children:"Confirmation"}),(0,d.jsx)("p",{className:"form__description",children:"We are getting to the end. Just few clicks and your order si ready!"}),(0,d.jsxs)("div",{className:"confirm__info",children:[(0,d.jsxs)("div",{className:"confirm__field",children:[(0,d.jsxs)("label",{htmlFor:"sending",className:"confirm__label",children:[(0,d.jsx)("input",(0,u.Z)((0,u.Z)({id:"sending",type:"checkbox",className:"confirm__input"},t("sending")),{},{defaultChecked:r("sending")})),(0,d.jsx)("span",{className:"confirm__checkbox",children:(0,d.jsx)(M.r,{className:"confirm__icon"})}),(0,d.jsx)("span",{children:"I agree with sending an Marketing and newsletter emails. No spam, promissed!"})]}),n.sending&&(0,d.jsx)("p",{role:"alert",className:"form__error",children:n.sending.message})]}),(0,d.jsxs)("div",{className:"confirm__field",children:[(0,d.jsxs)("label",{htmlFor:"agreement",className:"confirm__label",children:[(0,d.jsx)("input",(0,u.Z)((0,u.Z)({id:"agreement",type:"checkbox",className:"confirm__input"},t("agreement")),{},{defaultChecked:r("agreement")})),(0,d.jsx)("span",{className:"confirm__checkbox",children:(0,d.jsx)(M.r,{className:"confirm__icon"})}),(0,d.jsxs)("span",{children:["I agree with our\xa0",(0,d.jsx)(F.rU,{to:"/terms",className:"confirm__label_underlined",children:"terms and conditions"}),"\xa0and\xa0",(0,d.jsx)(F.rU,{to:"/terms",className:"confirm__label_underlined",children:"privacy policy"}),"."]})]}),n.agreement&&(0,d.jsx)("p",{role:"alert",className:"form__error",children:n.agreement.message})]})]}),(0,d.jsx)("button",{type:"submit",className:"form__button",disabled:!i,children:"Complete order"})]})},q=c.z.object({firstName:c.z.string().nonempty("This field is required."),lastName:c.z.string().optional(),email:c.z.string().nonempty("This field is required").email("Invalid email format."),phone:c.z.string().nonempty("This field is required.").min(5,"Phone number must contain at least 5 numbers.").max(12,"Phone number must contain at most 12 numbers."),country:c.z.string().nonempty("This field is required."),city:c.z.string().optional(),apartment:c.z.string().nonempty("This field is required."),zip:c.z.string().nonempty("This field is required.").min(5,"Zip code must contain at least 5 characters.").max(10,"Zip code must contain at most 12 characters."),notes:c.z.string().optional(),sending:c.z.boolean().refine((function(e){return e}),{message:"This field must be checked."}),agreement:c.z.boolean().refine((function(e){return e}),{message:"This field must be checked."})}),G={firstName:"",lastName:"",email:"",phone:"",apartment:"",city:"",country:"",zip:"",notes:"",sending:!1,agreement:!1},W=function(){var e=(0,L.CG)(T),t=(0,o.cI)({defaultValues:e,resolver:(0,a.F)(q),mode:"onTouched"}),n=t.register,r=t.control,i=t.handleSubmit,c=t.formState,u=c.errors,f=c.isValid,h=c.isSubmitSuccessful,p=t.watch,g=t.reset;(0,l.useEffect)((function(){h&&g(G)}),[h,g]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h1",{className:"form__heading",children:"Form"}),(0,d.jsxs)("form",{className:"form",autoComplete:"off",noValidate:!0,onSubmit:i((function(e){console.log("form submitted",e)})),children:[(0,d.jsx)(z,{register:n,watch:p,errors:u,control:r}),(0,d.jsx)(m,{register:n}),(0,d.jsx)(A,{register:n,watch:p,errors:u,isValid:f})]}),(0,d.jsx)(s.DevTool,{control:r})]})},V=n(7457),B=function(){return(0,d.jsx)("section",{className:"checkout",children:(0,d.jsx)(V.W,{children:(0,d.jsx)("div",{className:"checkout__layout",children:(0,d.jsx)(W,{})})})})}}}]);
//# sourceMappingURL=472.d5b706b0.chunk.js.map